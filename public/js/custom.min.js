const confirmDelete=e=>confirm(e),setupPusher=(e,t,a,n,c="",r=!1,s="mt1")=>{Pusher.logToConsole=r;new Pusher(n,{cluster:s}).subscribe(e).bind(t,function(e){a(e,c)})},resetForm=e=>{$(e).trigger("reset"),$(e).validate().resetForm()},cancel=(e,t)=>{$(e).on("click",()=>{resetForm(t)})},initTinyMce=(e,t=[],a={},n=!1)=>{let c=[];if(c=t.length>0?t:["advlist","lists","image","media","table","code","searchreplace","lists","accordion","visualblocks","anchor","link","charmap","pagebreak","visualchars","emoticons","insertdatetime","autolink","autosave","quickbars","wordcount",],"undefined"!=typeof tinymce){let r={selector:e,plugins:c.join(" "),a11y_advanced_options:n},s={...r,...a};tinymce.init(s)}},deleteMultiple=(e,t,a,n)=>{$(t).on("click",function(){let t=[];$(a+":checked").each(function(){t.push($(this).val())}),t.length>0?confirm(n.confirm)&&axios.delete(e,{data:{ids:t}}).then(function(e){"success"===e.data.status&&(toastr.info(n.success),setTimeout(()=>{location.reload()},1500))}).catch(function(e){toastr.error(n.error)}):toastr.error(n.pleaseSelectAtLeastOne)})},softDeleteMultiple=(e,t,a,n)=>{$(t).on("click",function(){let t=[];$(a+":checked").each(function(){t.push($(this).val())}),t.length>0?confirm(n.confirm)&&axios.delete(e,{data:{ids:t}}).then(function(e){"success"===e.data.status&&(toastr.info(n.success),setTimeout(()=>{location.reload()},1500))}).catch(function(e){toastr.error(n.error)}):toastr.error(n.pleaseSelectAtLeastOne)})},deleteAll=(e,t,a)=>{$(t).on("click",function(){confirm(a.confirm)&&axios.delete(e,{}).then(function(e){"success"===e.data.status&&(toastr.info(a.success),setTimeout(()=>{location.reload()},1500))}).catch(function(e){toastr.error(a.error)})})},softDeleteAll=(e,t,a)=>{$(t).on("click",function(){confirm(a.confirm)&&axios.delete(e,{}).then(function(e){"success"===e.data.status&&(toastr.info(a.success),setTimeout(()=>{location.reload()},1500))}).catch(function(e){toastr.error(a.error)})})},selectAll=(e,t)=>{$(e).on("change",function(){let e=$(this).prop("checked");$(t).each(function(){$(this).prop("checked",e)})})},initSelect2=(e,t={})=>{$(e).select2(t)},initActiveTabs=(e,t)=>{document.addEventListener("DOMContentLoaded",function(){let a=document.querySelectorAll(e),n=document.querySelectorAll(t);a.forEach(function(e,t){e.addEventListener("click",function(){a.forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),t>=0&&t<n.length&&(n.forEach(function(e){e.classList.remove("show","active")}),n[t].classList.add("show","active"))})});let c=document.querySelectorAll(".is-invalid");if(c.length>0){let r=c[0].closest(t);if(r){let s=Array.from(n).indexOf(r);s>=0&&s<n.length&&(a.forEach(function(e){e.classList.remove("active")}),n.forEach(function(e){e.classList.remove("show","active")}),a[s].classList.add("active"),n[s].classList.add("show","active"))}}})},updateWeatherData=(e,t)=>{for(let a in t)if(t.hasOwnProperty(a)&&void 0!==e[a]){let n=$(t[a].selector);"text"===t[a].type&&n.text(e[a]),"attribute"===t[a].type&&n.attr(t[a].attribute,e[a])}},setDefaultQueryParam=(e,t)=>{let a=new URL(window.location.href);a.searchParams.has(e)||(a.searchParams.set(e,t),history.replaceState(null,"",a.toString()))},updateQueryStringParam=(e,t)=>{let a=new URL(window.location.href);t?a.searchParams.set(e,t):a.searchParams.delete(e),history.replaceState(null,"",a.toString())},getQueryParam=e=>new URL(window.location.href).searchParams.get(e),addQueryParam=(e,t)=>{let a=new URL(window.location.href);t&&a.searchParams.append(e,t),history.replaceState(null,"",a.toString())},attachEvent=(e,t,a)=>{$(document).on(e,t,function(e){a($(this),e)})},clearWeatherCache=e=>{axios.get(e).then(()=>{console.log("Cache Cleared")}).catch(e=>{console.log(e)})},handleRadioChange=(e,t)=>{$('input[name="'+e+'"]').on("change",function(){$(this).is(":checked")&&t($(this).val())})},fetchWeatherApiData=(e,t,a,n,c,r)=>{setDefaultQueryParam("unitOfMeasurement","celsius"),$(a).on("submit",function(t){t.preventDefault();let a=$(`input[name="${n}"]`).val(),s=$(`input[name="${c}"]:checked`).val();axios.get(e,{params:{city:a,unitOfMeasurement:s}}).then(function(e){updateWeatherData(e.data,r)}).catch(function(e){console.error("Error:",e)})})},handlePaymentForm=e=>{let{stripeKey:t,formSelector:a,paymentMethodSelector:n,nameInputSelector:c,methods:r}=e,s=t?Stripe(t):null,i=null;if(s){let l=s.elements();(i=l.create("card")).mount(r.stripe.fields.cardElementSelector)}$(a).on("submit",async function(e){let t=$(n+":checked").val();if(r[t]&&r[t].handleSubmit){e.preventDefault();let l={name:$(c).val()},o=await r[t].handleSubmit({stripe:s,cardElement:i,billingDetails:l,formSelector:a});o.error?console.error(o.error):o.success&&$(a).off("submit").submit()}}),$(n).on("change",function(){let e=$(this).val();updateQueryStringParam("paymentMethod",e),Object.keys(r).forEach(t=>{t===e?$(r[t].fields.selector).removeClass("d-none"):$(r[t].fields.selector).addClass("d-none")})})};$(document).ready(()=>{});
